<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // function service() {
      //   this.name = name;
      //   let that = this;
      // }
      // service.prototype = {
      //   constructor: service,
      //   timeout: async function () {
      //     return new Promise((resolve, reject) => {
      //       let result = timeout(() => {
      //         alert("timeout");
      //       }, 1000);
      //       return result;
      //     });
      //   },
      //   makeAlert: function () {
      //     alert("asd");
      //   },
      // };

      // function view() {
      //   this.btn = document.getElementById("submit-btn");
      //   this.put = document.getElementById("js-input");
      //   this.makeButton();
      //   this.makeInput();
      // }

      // view.prototype = {
      //   constructor: view,
      //   makeInput: function () {
      //     let input = document.createElement("input");
      //     input.type = "text";
      //     input.id = "js-input";
      //     document.body.appendChild(input);
      //   },
      //   makeImg: function () {
      //     let img = document.createElement("img");
      //     img.src = "images/cafe_main.jpg";
      //     //   document.body.append(img);
      //     document.body.appendChild(img);
      //   },

      //   makeButton: function () {
      //     let btn = document.createElement("input");
      //     btn.type = "submit";
      //     btn.id = "submit-btn";
      //     btn.value = "submit";
      //     document.body.appendChild(btn);
      //   },

      //   eventListen: function (callback) {
      //     this.btn.addEventListener("click", callback);
      //   },
      // };

      // function ctr(service, view) {
      //   var self = this;
      //   this.service = service;
      //   this.view = view;
      //   console.log("ctr-this:" + this.service);
      //   this.view.eventListen(this.controll("timeout", this.service.that)); //생성자 함수 내에서 service접근 가능한데 프로토타입에서 undefined로 나옴
      // }
      // ctr.prototype = {
      //   constructor: ctr,

      //   controll: async function (method, scope) {
      //     var method;
      //     if (typeof method === "string") {
      //       method = scope[method];
      //     }

      //     if (typeof method === "function") {
      //       method.call(scope);
      //     }
      //     try {
      //       console.log("this:" + that.service);
      //       let result = await that.call(that.service, timeout);
      //     } catch (e) {
      //       console.log("error: " + e);
      //     }
      //   },
      //   test: function (self) {
      //     let that = self;
      //     that.service.makeAlert();
      //   },
      // };

      // let CTR = new ctr(new service(), new view());

      class view {
        constructor() {}
        makeInput() {
          let input = document.createElement("input");
          input.type = "text";
          input.id = "js-input";
          document.body.appendChild(input);
        }
        makeImg() {
          let img = document.createElement("img");
          img.src = "images/cafe_main.jpg";
          //   document.body.append(img);
          document.body.appendChild(img);
        }

        makeButton() {
          let btn = document.createElement("input");
          btn.type = "submit";
          btn.id = "submit-btn";
          btn.value = "submit";
          document.body.appendChild(btn);
        }

        eventListen(callback) {
          this.btn.addEventListener("click", callback);
        }
      }
    </script>
  </body>
</html>
